# Вопросы и ответы

## Что выбрать: Kafka или традиционная очередь сообщений?
Kafka выигрывает при высоком throughput, необходимости хранить историю и множественных потребителях. Традиционные очереди (RabbitMQ, ActiveMQ) подходят для сложных маршрутизаций и строгих транзакций.

## Как обеспечить exactly-once обработку?
Используйте idempotent producer, транзакции (`transactional.id`), а на стороне consumer'а — транзакционный commit offset вместе с бизнес-операцией.

## Как уменьшить задержки записи?
Тюнингуйте `acks=1`, уменьшайте `linger.ms`, используйте быстрые диски (NVMe) и достаточный объём оперативной памяти под page cache.

## Что делать при высоком consumer lag?
Проверьте производительность обработчика, увеличьте количество consumer'ов, масштабируйте кластер или распределите нагрузку по ключам.

## Как безопасно удалять топики?
Убедитесь, что `delete.topic.enable=true`, отключите производителей, дождитесь опустошения лагов и удалите топик инструментами `kafka-topics.sh`.

## Можно ли читать историю событий заново?
Да, Kafka позволяет сбросить offset и перечитать данные, что удобно для реконструкции состояния или повторной обработки.
